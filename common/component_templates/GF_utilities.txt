#####################
# 坍塌反应堆
#####################

utility_component_template = {
	# 护卫舰反应堆
	key = "CORVETTE_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 350
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 50
		}
		upkeep = {
			energy = 0.5
			alloys = 0.05
			GF_nyto_collapse_liquid = 0.02
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		corvette
		frigate
		colonizer
		lithoid_colonizer
		sponsored_colonizer
		constructor
		science
		transport
		crisis_corvette
	}
}

utility_component_template = {
	# 驱逐舰反应堆
	key = "DESTROYER_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 750
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 90
		}
		upkeep = {
			energy = 1.0
			alloys = 0.1
			GF_nyto_collapse_liquid = 0.05
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	
	size_restriction = {
		destroyer
		crisis_destroyer
	}
}

utility_component_template = {
	# 巡洋舰反应堆
	key = "CRUISER_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 1200
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 180
		}
		upkeep = {
			energy = 1.4
			alloys = 0.12
			GF_nyto_collapse_liquid = 0.6
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		cruiser
		crisis_cruiser
		cosmo_crisis_destroyer
	}
}

utility_component_template = {
	# 战列舰反应堆
	key = "BATTLESHIP_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 2500
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 350
		}
		upkeep = {
			energy = 3.5
			alloys = 0.45
			GF_nyto_collapse_liquid = 0.22
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		battleship
		offspring_battleship
	}
}

utility_component_template = {
	# 泰坦反应堆
	key = "TITAN_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 5000
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 630
		}
		upkeep = {
			energy = 6.8
			alloys = 0.7
			GF_nyto_collapse_liquid = 0.35
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		titan
		payback_warship
		cosmo_crisis_battlecruiser
	}
}

utility_component_template = {
	# 巨像反应堆
	key = "COLOSSUS_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 12000
	resources = {
		category = GF_ship_collapse_utilities
		upkeep = {
			GF_nyto_collapse_liquid = 0.05
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		colossus
		star_eater
	}
}

utility_component_template = {
	# 防御平台反应堆
	key = "PLATFORM_GF_COLLAPSE_REACTOR"
	size = large
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 1500
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 80
		}
		upkeep = {
			energy = 0.85
			alloys = 0.09
			GF_nyto_collapse_liquid = 0.04
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	class_restriction = { shipclass_military_station }
	size_restriction = {
		military_station_small
		military_station_medium
		military_station_large
	}
}

utility_component_template = {
	# 离子炮反应堆
	key = "ION_CANNON_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 1800
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 160
		}
		upkeep = {
			energy = 1.2
			alloys = 0.18
			GF_nyto_collapse_liquid = 0.09
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		ion_cannon
		GF_RC_beacon_military_station
	}
}

utility_component_template = {
	# 主宰反应堆
	key = "JUGGERNAUT_GF_COLLAPSE_REACTOR"
	size = small
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 16000
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 1800
		}
		upkeep = {
			energy = 16
			alloys = 2
			GF_nyto_collapse_liquid = 1
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	size_restriction = {
		juggernaut
		cosmo_crisis_titan
	}

	ai_weight = {
		weight = 8
	}
}

utility_component_template = {
	# 恒星基地反应堆
	key = "STARBASE_GF_COLLAPSE_REACTOR"
	size = large
	icon = "GFX_GF_collapse_power_core"
	icon_frame = 1
	power = 7500
	resources = {
		category = GF_ship_collapse_utilities
		upkeep = {
			energy = 1.5
			alloys = 0.5
			GF_nyto_collapse_liquid = 0.25
		}
	}

	prerequisites = { "GF_tech_collapse_power_core" }
	component_set = "power_core"
	class_restriction = { shipclass_starbase }
	size_restriction = {
		starbase_outpost
		starbase_starport
		starbase_starhold
		starbase_starfortress
		starbase_citadel
		orbital_ring_tier_1
		orbital_ring_tier_2
		orbital_ring_tier_3
	}

	ai_weight = {
		weight = 8
	}
}

#####################
# 坍塌跃迁引擎
#####################
utility_component_template = {
	key = "GF_COLLAPSE_JUMP_DRIVE"
	size = small
	icon = "GFX_GF_collapse_jump_drive"
	icon_frame = 1
	power = -45
	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 30
		}
		upkeep = {
			GF_nyto_collapse_liquid = 0.05
		}
	}
	ftl = yes
	jumpdrive = yes
	ship_modifier = {
		ship_windup_mult = -0.80
		ship_jumpdrive_cooldown_mult = -0.50
		ship_ftl_jumpdrive_range_mult = 0.70
	}

	ai_weight = {
		weight = 10
	}

	class_restriction = { shipclass_military shipclass_constructor shipclass_colonizer shipclass_science_ship shipclass_transport shipclass_military_special shipclass_starbase }
	prerequisites = { "GF_tech_collapse_jump_drive" }
	component_set = "ftl_components"
}

utility_component_template = {
	key = "GF_REVERSE_COLLAPSE_WARP_BEACON"
	size = small
	icon = GFX_GF_reverse_collapse_warp_beacon

	resources = {
		category = GF_ship_collapse_utilities
		cost = {
			alloys = 50
			GF_nyto_collapse_liquid = 20
		}
		upkeep = {
			GF_nyto_collapse_liquid = 0.1
			gf_core_chip = 0.5
		}
	}
	power = -400
	component_set = ship_aura_components

	custom_tooltip = GF_reverse_collapse_warp_beacon_aura_tooltip

	friendly_aura = {
		name = GF_REVERSE_COLLAPSE_WARP_BEACON_AURA
		stack_info = {
			id = GF_REVERSE_COLLAPSE_WARP_BEACON_AURA
			priority = 10
		}
		apply_on = ships
		limit = {
			has_component = GF_COLLAPSE_JUMP_DRIVE
		}

		modifier = {
			ship_ftl_jumpdrive_range_mult = 0.25
		}
	}

	prerequisites = {
		GF_tech_reverse_collapse_gateway_beacon
	}

	### scripted on_action name
	scripted_action_name = on_GF_RC_beacon_deployed
	### button description
	scripted_action_tooltip = GF_deploy_RC_beacon_desc
	### button title
	scripted_action_activity_key = GF_deploy_RC_beacon_activity_key
	### fleet action tooltip showed in fleet ui
	scripted_action_context_menu_name = GF_deploy_RC_beacon_menu_title
	scripted_action_icon = GFX_fleet_task_planetfall_action

	### not sure when this is fired
	scripted_action_on_cancel = on_GF_RC_beacon_deployment_canceled

	### progress tooltip showed in fleet ui
	scripted_action_progress_activity_key = GF_deploy_RC_beacon_progress_activity_key
	scripted_action_required_progress = 60

	scripted_action_button_possible = {
		custom_tooltip = {
			fail_text = GF_RC_beacon_already_deployed
			NOT = { has_fleet_flag = flag_f_GF_RC_beacon_deployed }
		}
		custom_tooltip = {
			fail_text = GF_RC_beacon_deployment_cooldown
			NOT = { has_fleet_flag = flag_f_GF_RC_beacon_deployment_cooldown }
		}
	}

	scripted_action_possible = {
		from = {
			NOR = {
				has_fleet_flag = flag_f_GF_RC_beacon_deployed
				has_fleet_flag = flag_f_GF_RC_beacon_deployment_cooldown
			}
		}
		solar_system = {
			NOR = {
				has_star_flag = flag_s_GF_reverse_collapse_gateway_node
				has_star_flag = flag_s_GF_reverse_collapse_gateway_beacon
			}
		}
	}
	scripted_action_finished = {
	}
}

#####################
# 伯劳部件
#####################
utility_component_template = {
	key = "GF_SHRIKE_HEART_LARGE"
	size = small
	icon = "GFX_GF_shrike_heart"
	icon_frame = 1
	power = 2800
	resources = {
		category = ship_components
		cost = {
			energy = 200
			food = 100
		}
		upkeep = {
			energy = 2.0
			food = 3
		}
	}

	component_set = "power_core"
	size_restriction = {
		GF_shrike_queen
	}

	ai_weight = {
		base = 1000
	}
}


utility_component_template = {
	key = "GF_SHRIKE_HEART_MEDIUM"
	size = small
	icon = "GFX_GF_shrike_heart"
	icon_frame = 1
	power = 1800
	resources = {
		category = ship_components
		cost = {
			energy = 100
			food = 50
		}
		upkeep = {
			energy = 1
			food = 1.5
		}
	}

	component_set = "power_core"
	size_restriction = {
		GF_shrike_warship_large
	}

	ai_weight = {
		base = 1000
	}
}


utility_component_template = {
	key = "GF_SHRIKE_HEART_SMALL"
	size = small
	icon = "GFX_GF_shrike_heart"
	icon_frame = 1
	power = 1000
	resources = {
		category = ship_components
		cost = {
			energy = 50
			food = 25
		}
		upkeep = {
			energy = 0.5
			food = 0.75
		}
	}
	size_restriction = {
		GF_shrike_warship_small
	}

	component_set = "power_core"

	ai_weight = {
		base = 1000
	}
}

utility_component_template = {
	key = "GF_SHRIKE_THRUSTER"
	size = small
	icon = "GFX_GF_shrike_thruster"
	icon_frame = 1
	power = -200

	resources = {
		category = ship_components
		cost = {
			energy = 30
			food = 100
		}
		upkeep = {
			energy = 1.5
		}
	}

	modifier = {
		ship_base_speed_mult = 1
		ship_evasion_add = 25
	}

	component_set = "thruster_components"
	size_restriction = {
		GF_shrike_warship_large
		GF_shrike_warship_small
		GF_shrike_queen
	}
	ai_weight = {
		base = 1000
	}
}


utility_component_template = {
	key = "GF_SHRIKE_SENSORS"
	size = small
	icon = "GFX_GF_shrike_sensor"
	icon_frame = 1
	power = -10
	sensor_range = 2
	hyperlane_range = 3

	ship_modifier = {
		ship_tracking_add = 12
	}

	resources = {
		category = ship_components
		cost = {
			energy = 10
			food = 50
		}
		upkeep = {
			energy = 1.0
		}
	}

	component_set = "GF_bio_spaceship_sensor_components"
	size_restriction = {
		GF_shrike_warship_large
		GF_shrike_warship_small
		GF_shrike_queen
	}
	ai_weight = {
		base = 1000
	}
}