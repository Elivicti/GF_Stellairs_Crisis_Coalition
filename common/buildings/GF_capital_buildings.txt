#############
# Capital buildings
#############
# 自动殖民地
building_GF_auto_colony_capital = {
	base_buildtime = @b2_time
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no

	category = government

	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
			is_fallen_empire = no
			has_authority = GF_auth_commonwealth
		}
		NOR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	convert_to = {
		building_hive_capital
		building_machine_capital
		building_resort_capital
		building_slave_capital
		building_ancient_control_center
		building_ancient_palace
	}

	allow = {
	}

	upgrades = {
	}

	prerequisites = {
	}

	show_tech_unlock_if = {
		is_regular_empire = yes
	}

	planet_modifier = {
		job_GF_command_doll_per_pop = 0.1
		job_GF_command_doll_add = 2
		job_GF_guard_doll_per_pop = 0.05
		job_GF_guard_doll_add = 1
		job_GF_assemble_doll_per_pop = 0.1
		job_GF_assemble_doll_add = 1
		job_GF_dormancy_doll_add = 1
		planet_housing_add = 5
		planet_amenities_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_domination_imperious_architecture
			}
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_mechanical_empire = yes }
		}
		job_roboticist_add = 1
	}
	triggered_desc = {
		text = job_enforcer_effect_desc
	}

	ai_weight = {
		weight = 100 # get rid of the colony malus asap
		modifier = {
			factor = 0.25
			owner = { has_resource = { type = minerals amount < 500 } }
		}#This is here to prevent the AI from queuing up to buy this building when it could really do with another mineral district
	}
}

##### 首都
# 格里芬
building_GF_GK_headquarters_1 = {
	icon = building_GF_capital_1
	base_buildtime = 360
	base_cap_amount = 1
	category = government	
	potential = {
		exists = owner
		owner = {
		    AND = {
				has_authority = GF_auth_commonwealth
		        has_civic = GF_civic_GK
			}
        }
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_GK_headquarters_2"
	}	
	planet_modifier = {
		job_GF_GK_commander_add = 1
	}	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
		        has_civic = GF_civic_IOP
            }
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_GK_commander_effect_desc
	}	
	prerequisites = {
		"tech_planetary_government"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_GK_headquarters_2 = {
	icon = building_GF_capital_2
	base_buildtime = 360
	can_build = no
	category = government
	
	potential = {
		exists = owner
		has_building = building_GF_GK_headquarters_1
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_GK_headquarters_3"
	}
	allow = {
		num_pops >= 10
	}	
	planet_modifier = {
		job_GF_GK_commander_add = 2
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_GK_commander_effect_desc
	}	
	prerequisites = {
		"tech_colonial_centralization"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_GK_headquarters_3 = {
	icon = building_GF_capital_3
	base_buildtime = 360
	can_build = no
	category = government
	
	potential = {
		exists = owner
		has_building = building_GF_GK_headquarters_2
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	allow = {
		num_pops >= 40
	}	
	planet_modifier = {
		job_GF_GK_commander_add = 3
		job_GF_GK_officer_add = 1	
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_GK_officer_effect_desc
	}	
	prerequisites = {
		"tech_galactic_administration"
	}
	ai_weight = {
		weight = 1
	}
}
# 南联
building_GF_AU_council_1 = {
	icon = building_GF_capital_1
	base_buildtime = 360
	base_cap_amount = 1
	category = government
	
	potential = {
		exists = owner
		owner = {
			AND = {
				has_authority = GF_auth_commonwealth
				has_civic = GF_civic_AU
			}
		}
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_AU_council_2"
	}	
	planet_modifier = {
		job_GF_AU_consultant_add = 1
	}	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_AU_consultant_effect_desc
	}	
	prerequisites = {
		"tech_planetary_government"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_AU_council_2 = {
	icon = building_GF_capital_2
	base_buildtime = 360
	can_build = no
	category = government
	potential = {
		exists = owner
		has_building = building_GF_AU_council_1
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_AU_council_3"
	}
	allow = {
		num_pops >= 10
	}	
	planet_modifier = {
		job_GF_AU_consultant_add = 2
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_AU_consultant_effect_desc
	}	
	prerequisites = {
		"tech_colonial_centralization"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_AU_council_3 = {
	icon = building_GF_capital_3
	base_buildtime = 360
	can_build = no
	category = government
	potential = {
		exists = owner
		has_building = building_GF_AU_council_2
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}	
	allow = {
		num_pops >= 40
	}	
	planet_modifier = {
		job_GF_AU_consultant_add = 3	
		job_GF_AU_director_add = 1
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_AU_director_effect_desc
	}	
	prerequisites = {
		"tech_galactic_administration"
	}
	ai_weight = {
		weight = 1
	}
}
# 罗联
building_GF_URNC_committee_1 = {
	icon = building_GF_capital_1
	base_buildtime = 360
	base_cap_amount = 1
	category = government	
	potential = {
		exists = owner
		owner = {
			AND = {
				has_authority = GF_auth_commonwealth
				has_civic = GF_civic_URNC
			}
		}
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_URNC_committee_2"
	}	
	planet_modifier = {
		job_GF_URNC_secretary_add = 1
	}	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_URNC_secretary_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_URNC_secretary_effect_desc
	}	
	prerequisites = {
		"tech_planetary_government"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_URNC_committee_2 = {
	icon = building_GF_capital_2
	base_buildtime = 360
	can_build = no
	category = government
	
	potential = {
		exists = owner
		has_building = building_GF_URNC_committee_1
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	upgrades = {
		"building_GF_URNC_committee_3"
	}
	allow = {
		num_pops >= 10
	}	
	planet_modifier = {
		job_GF_URNC_secretary_add = 2
	}	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_URNC_secretary_effect_desc
	}	
	prerequisites = {
		"tech_colonial_centralization"
	}
	ai_weight = {
		weight = 1
	}
}
building_GF_URNC_committee_3 = {
	icon = building_GF_capital_3
	base_buildtime = 360
	can_build = no
	category = government
	potential = {
		exists = owner
		has_building = building_GF_URNC_committee_2
	}
	destroy_trigger = {
		exists = owner
		NOT = { 
			owner = {
				has_authority = GF_auth_commonwealth
			}
		}
	}
	allow = {
		num_pops >= 40
	}	
	planet_modifier = {
		job_GF_URNC_secretary_add = 3
		job_GF_URNC_commissioner_add = 1	
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 200
		}
		upkeep = {
			energy = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_civic = GF_civic_IOP
			}
		}
		modifier = {
 			job_GF_programmer_add = 1
		}
	}	
	triggered_desc = {
		text = job_GF_URNC_commissioner_effect_desc
	}	
	prerequisites = {
		"tech_galactic_administration"
	}
	ai_weight = {
		weight = 1
	}
}
